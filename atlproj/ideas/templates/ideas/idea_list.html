{% extends "ideas/index.html" %}

{% load ideas_extras %}

	{% block ideas-nav %} active{% endblock %}

    {% block content %}
	<h1 class="display-4">{% if current %}Currently active projects{% else %}Recent ideas on offer{% endif %}</h1>

	{% if platform %}
	<ol class="breadcrumb">
		<li class="breadcrumb-item"><a href="{% if current %}{% url 'current_list' %}{% else %}{% url 'idea_list' %}{% endif %}">All</a></li>
		<li class="breadcrumb-item active">{{ platform.title }}</li>
	</ol>
	{% endif %}

	{% if object_list %}
	    <table class="table mt-3">
	    	<thead>
	    		<tr>
	    			<th>Internal title</th>
	    			<th>Dates</th>
	    			<th class="w-50">Description</th>
	    		</tr>
	    	</thead>
	    	<tbody>
	        {% for idea in object_list %}
	        	<tr>
	        		<td>{% if current %}{% short_platform idea display="current" %}{% else %}{% short_platform idea display="list" %}{% endif %}<a href="{% url 'idea_detail' idea.id %}">{{ idea }}</a>
	        		{% idea_children idea %}
	        		</td>
	        		<td>{{ idea.start_date|date:"M. j" }}{% if idea.end_date %}-{{ idea.end_date|date:"M. j, Y" }}{% else %}{{ idea.start_date|date:", Y" }}{% endif %}</td>
	        		<td>{{ idea.description }}</td>
	        	</tr>
	        {% endfor %}
	        </tbody>
	    </table>
	{% else %}
	    <p>No ideas fit this description.</p>
	{% endif %}
	
	{% endblock %}